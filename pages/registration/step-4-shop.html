<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Строймаркет</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header class="page-header">
    <div class="container page-header__container">
      <a class="logo" href="/">Строймаркет</a>
    </div>
  </header>
  <main>
    <div class="container">
      <div class="grid">
        <div class="grid__column_1-3">
          <section class="registration__panel">
            <b class="registration__name">
              ООО "Пластик Сибири"
            </b>
            <p class="registration__text">
              Продолжение регистрации
            </p>
            <div class="registration__progress">
              <p class="registration__checkbox registration__checkbox_current">
                <input id="progress_info" type="checkbox" disabled>
                <label for="progress_info">Общая информация</label>
              </p>
              <p class="registration__checkbox">
                <input id="progress_requisites" type="checkbox" disabled>
                <label for="progress_requisites">Реквизиты</label>
              </p>
            </div>
          </section>
        </div>
        <div class="grid__column_7-12">
          <div class="registration">
            <h2 class="h2 registration__h2">Общая информация</h2>
            <form class="form registration__form" onchange="checkForm(this)">
              <div class="grid form__row">
                <div class="grid__column_3-7">
                  <label class="form__label" for="registration_name">
                    Название фирмы:
                  </label>
                </div>
                <div class="grid__column_4-7">
                  <input class="input" id="registration_name"
                         type="text" placeholder="Не юр. лица, а название фирмы" required>
                </div>
              </div>
              <div class="grid form__row form__row_top">
                <div class="grid__column_3-7">
                  <p class="form__label">
                    Логотип:
                  </p>
                  <p class="form__label-caption">
                    Какие-нибудь требования к фотографии типа размера файла или максимальной длинне одной из сторон.
                  </p>
                </div>
                <div class="grid__column_4-7">
                  <div class="grid grid_medium">
                    <div class="grid__column_1-2 registration__logo">
                      <input class="input" id="registration_logo" type="file"
                             onchange="filePreview.show(event)">
                      <label class="input" for="registration_logo">
                        <span>Нет логотипа</span>
                      </label>
                    </div>
                    <div class="grid__column_1-2">
                      <label class="button button_action" for="registration_logo">
                        Загрузить
                      </label>
                      <button class="button button_action_secondary" type="button"
                              onclick="filePreview.remove('registration_logo')">
                        <span>Удалить</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="grid form__row">
                <div class="grid__column_3-7">
                  <label class="form__label" for="registration_info">
                    Информация об организации:
                  </label>
                </div>
                <div class="grid__column_4-7">
                  <input class="input" id="registration_info"
                         type="text" placeholder="Текст">
                </div>
              </div>
              <div class="grid form__row">
                <div class="grid__column_3-7">
                  <label class="form__label" for="registration_site">
                    Веб-сайт:
                  </label>
                </div>
                <div class="grid__column_4-7">
                  <input class="input" id="registration_site"
                         type="url" placeholder="Текст">
                </div>
              </div>
              <hr class="hr">
              <div class="grid form__row">
                <div class="grid__column_6-7">
                  <p class="registration__hint">
                    Если у вас сеть магазинов — добавить другие магазины сети вы сможете по окончании регистрации
                    в личном кабинете
                  </p>
                </div>
              </div>
              <div class="grid form__row form__row_top">
                <div class="grid__column_3-7">
                  <p class="form__label">
                    Расположение фирмы:
                  </p>
                  <p class="form__label-caption">
                    Внимание! Проверьте адрес внимательно, так как после завершения регистрации вы сможете изменить
                    адрес, только обратившись в администрацию Строймаркета
                  </p>
                </div>
                <div class="grid__column_4-7">
                  <div class="grid grid_small">
                    <div class="grid__column_1-1">
                      <button class="button button_action" type="button">
                        Выберите город
                      </button>
                    </div>
                  </div>
                  <div class="grid grid_small">
                    <div class="grid__column_1-2">
                      <input class="input" type="text" placeholder="Улица" required>
                    </div>
                    <div class="grid__column_1-2">
                      <input class="input" type="text" placeholder="Дом" required>
                    </div>
                  </div>
                  <div class="grid grid_small">
                    <div class="grid__column_1-2">
                      <select class="select form__select" id="building">
                        <option selected>Помещение</option>
                        <option>...</option>
                      </select>
                    </div>
                    <div class="grid__column_1-2">
                      <input class="input" type="text" placeholder="Номер" required>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form__row">
                <input class="form__switcher" id="registration_only-online" type="checkbox">
                <label for="registration_only-online" data-checked="да" data-not-checked="нет">
                  Нет фактического адреса — только интернет магазин:
                </label>
              </div>
              <div class="grid form__row">
                <div class="grid__column_3-7">
                  <label class="form__label" for="registration_phone">
                    Контактный телефон:
                  </label>
                </div>
                <div class="grid__column_4-7">
                  <input class="input" id="registration_phone" type="tel"
                         placeholder="" value="(383) 256-33-11" required>
                </div>
              </div>
              <div class="grid form__row">
                <div class="grid__column_3-7">
                  <label class="form__label" for="registration_email">
                    Контактный email:
                  </label>
                </div>
                <div class="grid__column_4-7">
                  <input class="input" id="registration_email" type="email"
                         placeholder="" value="info@shtukaturkin.ru" required>
                </div>
              </div>
              <div class="form__row">
                <input class="form__switcher" id="registration_has-delivery" type="checkbox"
                       onchange="registrationDelivery.toggle()">
                <label for="registration_has-delivery" data-checked="да" data-not-checked="нет">
                  Имеется доставка:
                </label>
              </div>
              <div class="form__row registration-delivery-wrapper"></div>
              <div class="grid form__row">
                <div class="grid__column_3-7">
                  <p class="form__label">
                    Время работы:
                  </p>
                </div>
                <div class="grid__column_4-7">
                  <button class="button button_action" id="set-operating-time" type="button"
                          onclick="modal.open('#operating-time')">
                    Установить время работы
                  </button>
                  <div class="operating-time-wrapper"></div>
                </div>
              </div>
              <div class="grid">
                <div class="grid__column_3-7 grid__column_right">
                  <button class="button form__button" type="submit" disabled>
                    Продолжить
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>

  <div class="modal" id="operating-time">
    <div class="container modal__container">
      <div class="grid">
        <div class="grid__column_1-2 grid__column_center">
          <div class="modal__overlay"></div>
          <header class="modal__header">
            <button class="modal__close" type="button">Закрыть</button>
            <h3 class="modal__heading">
              Время работы
            </h3>
          </header>
          <div class="modal__body">
            <ul class="list-reset registration__time-input">
              <li>
                <b>Понедельник</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-1" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-1" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-1" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-1" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <b>Вторник</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-2" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-2" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-2" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-2" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <b>Среда</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-3" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-3" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-3" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-3" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <b>Четверг</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-4" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-4" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-4" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-4" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <b>Пятница</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-5" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-5" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-5" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-5" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <b>Суббота</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-6" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-6" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-6" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-6" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <b>Воскресенье</b>
                <div class="grid grid_medium">
                  <div class="grid__column_1-2">
                    <p>Рабочие часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-start-7" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="work-end-7" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                  <div class="grid__column_1-2">
                    <p>Обеденные часы:</p>
                    <div class="grid grid_small">
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-start-7" type="text" placeholder="От">
                      </div>
                      <div class="grid__column_1-2">
                        <input class="input" data-id="lunch-end-7" type="text" placeholder="До">
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
            <button class="button" type="button" onclick="operatingTime.save()">
              Сохранить и закрыть
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <template id="operating-time-template">
    <table class="registration__operating-time">
      <thead>
      <tr>
        <th>пн</th>
        <th>вт</th>
        <th>ср</th>
        <th>чт</th>
        <th>пт</th>
        <th>сб</th>
        <th>вс</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>
          <span data-id="work-start-1"></span>
          <span data-id="work-end-1"></span>
        </td>
        <td>
          <span data-id="work-start-2"></span>
          <span data-id="work-end-2"></span>
        </td>
        <td>
          <span data-id="work-start-3"></span>
          <span data-id="work-end-3"></span>
        </td>
        <td>
          <span data-id="work-start-4"></span>
          <span data-id="work-end-4"></span>
        </td>
        <td>
          <span data-id="work-start-5"></span>
          <span data-id="work-end-5"></span>
        </td>
        <td>
          <span data-id="work-start-6"></span>
          <span data-id="work-end-6"></span>
        </td>
        <td>
          <span data-id="work-start-7"></span>
          <span data-id="work-end-7"></span>
        </td>
      </tr>
      <tr>
        <td colspan="7">
          <span>обед</span>
        </td>
      </tr>
      <tr>
        <td>
          <span data-id="lunch-start-1"></span>
          <span data-id="lunch-end-1"></span>
        </td>
        <td>
          <span data-id="lunch-start-2"></span>
          <span data-id="lunch-end-2"></span>
        </td>
        <td>
          <span data-id="lunch-start-3"></span>
          <span data-id="lunch-end-3"></span>
        </td>
        <td>
          <span data-id="lunch-start-4"></span>
          <span data-id="lunch-end-4"></span>
        </td>
        <td>
          <span data-id="lunch-start-5"></span>
          <span data-id="lunch-end-5"></span>
        </td>
        <td>
          <span data-id="lunch-start-6"></span>
          <span data-id="lunch-end-6"></span>
        </td>
        <td>
          <span data-id="lunch-start-7"></span>
          <span data-id="lunch-end-7"></span>
        </td>
      </tr>
      </tbody>
    </table>
  </template>
  <template id="edit-operating-time">
    <button class="button registration__edit-time"
            type="button" onclick="modal.open('#operating-time')">
      Редактировать
    </button>
  </template>

  <template id="registration-delivery-template">
    <div class="grid form__row">
      <div class="grid__column_3-7">
        <p class="form__label">
          Доставка
        </p>
      </div>
      <div class="grid__column_4-7">
        <button class="button registration__add-delivery"
                type="button" onclick="registrationDelivery.addItem()">
          Добавить еще
        </button>
      </div>
    </div>
  </template>
  <template id="delivery-item-template">
    <div class="registration-delivery-item">
      <button class="button button_action" type="button"
              onclick="">
        Населенный пункт
      </button>
      <select class="select form__select">
        <option selected>Доставка по городу и самовывоз</option>
        <option>...</option>
      </select>
    </div>
  </template>

  <script src="/js/lib/dropkick.js"></script>
  <script src="/js/lib/imask.min.js"></script>
  <script src="/js/main.min.js"></script>
  <script>
    var buildingSelect = new Dropkick('#building', { });

    var operatingTimeModal = document.getElementById('operating-time');
    var timeInputs = Array.prototype.slice.call(operatingTimeModal.querySelectorAll('input[data-id]'));

    var timeMaskOptions = {
      mask: 'HH:TT',
      groups: {
        HH: new IMask.MaskedPattern.Group.Range([0, 23]),
        TT: new IMask.MaskedPattern.Group.Range([0, 59]),
      }
    }

    var maskedInputs = {}
    timeInputs.forEach(function (timeInput, i) {
      maskedInputs[i] = new IMask(timeInput, timeMaskOptions)
    })
  </script>
</body>
</html>